<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:fn="http://java.sun.com/jsp/jstl/functions"
                xmlns:ui="http://java.sun.com/jsf/facelets">

    <div align="center">
        <br/>
        <h:outputText value="Students list" styleClass="contentsTitle"/>
        <h:form acceptcharset="UTF-8">
            <h:dataTable value="#{studentsMB.getListStudent()}" var="student"
                         styleClass="table"
                         headerClass="table-header"
                         footerClass="table-footer"
                         rowClasses="table-odd-row,table-even-row">
                <h:column>
                    <f:facet name="header">Id</f:facet>
                    #{student.id}
                </h:column>

                <h:column>
                    <f:facet name="header">Mã sinh viên</f:facet>
                    #{student.code}
                </h:column>
                <h:column>
                    <f:facet name="header">Họ tên</f:facet>
                    #{student.name}
                </h:column>
                <h:column>
                    <f:facet name="header">Lớp</f:facet>
                    #{student.classPayroll.name}
                </h:column>
                <h:column>
                    <f:facet name="header">Tuổi</f:facet>
                    #{student.age}
                </h:column>

                <h:column>
                    <f:facet name="header">Địa chỉ</f:facet>
                    #{student.address}
                </h:column>

                <h:column>
                    <f:facet name="header">Email</f:facet>
                    #{student.email}
                </h:column>
                <h:column>
                    <f:facet name="header">Điểm trung bình</f:facet>
                    #{studentsMB.avgScore(student)}
                </h:column>
                <h:column>
                    <f:facet name="header">Ghi chú</f:facet>
                    #{student.note}
                </h:column>
                <h:column>
                    <f:facet name="header" colspan="2">Thao tác</f:facet>


                    <h:commandButton value="Sửa" action="#{studentsMB.edit(student)}"/>
                    <h:commandButton value="Xóa" action="#{studentsMB.delete(student)}"/>
                </h:column>
                <f:facet name="footer">
                    <h:outputText value="Total of student: #{studentsMB.getListStudent().size()}"/>
                </f:facet>

            </h:dataTable>
            <br/>

            <h:outputLink value="javascript:void(0)" onclick="PF('dlg').show();" title="login">
                <h:commandButton type="button" value="Add Student"/>
            </h:outputLink>
            <p:dialog appendToBody="true" header="Add new student" widgetVar="dlg" >
                <ui:insert>
                    <ui:include src="add-student.xhtml"/>
                </ui:insert>
            </p:dialog>
<!--            <h:commandButton value="Add Student" action="add-student"/>-->
        </h:form>
    </div>
</ui:composition>