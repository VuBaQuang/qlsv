<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<ui:insert name="header">
    <ui:include src="/templates/header.xhtml"/>
    <script type="text/javascript" src="${pageContext.request.contextPath}/resources/js/jquery-3.2.1.js"></script>
</ui:insert>
<!--	Start body	-->


<div align="center">
    <br/>
    <h:outputText value="Chi tiết lớp học - môn học"/>
    <!--                <f:event listener="#{studentsMB.init()}" type="preRenderView"/>-->
    <br/><br/>
    <h:form acceptcharset="UTF-8">
        <h:panelGrid columns="2">
            <h:selectOneMenu id="subject" value="#{studentsMB.province}" style="width:160px">
                <p:ajax listener="#{studentsMB.setDistricts}" update="classe,classsubject"/>
                <f:selectItem itemLabel="Chọn" itemValue="" noSelectionOption="true"/>
                <f:selectItems value="#{studentsMB.provinces}"/>
            </h:selectOneMenu>

            <h:selectOneMenu id="classe" value="#{studentsMB.province}" style="width:160px">
                <p:ajax listener="#{studentsMB.setDistricts}" update="classsubject"/>
                <f:selectItem itemLabel="Chọn" itemValue="" noSelectionOption="true"/>
                <f:selectItems value="#{studentsMB.provinces}"/>
            </h:selectOneMenu>


        </h:panelGrid>
        <br/><br/>
        <div align="center">
            <br/>
            <h:outputText value="Students list" styleClass="contentsTitle"/>
            <h:form acceptcharset="UTF-8">
                <h:dataTable value="#{studentsMB.getListStudent()}" var="student"
                             styleClass="table"
                             headerClass="table-header"
                             footerClass="table-footer"
                             rowClasses="table-odd-row,table-even-row">
                    <h:column>
                        <f:facet name="header">Id</f:facet>
                        #{student.id}
                    </h:column>

                    <h:column>
                        <f:facet name="header">Mã sinh viên</f:facet>
                        #{student.code}
                    </h:column>
                    <h:column>
                        <f:facet name="header">Họ tên</f:facet>
                        #{student.name}
                    </h:column>
                    <h:column>
                        <f:facet name="header">Lớp</f:facet>
                        #{student.classes.name}
                    </h:column>
                    <h:column>
                        <f:facet name="header">Tuổi</f:facet>
                        #{student.age}
                    </h:column>

                    <h:column>
                        <f:facet name="header">Địa chỉ</f:facet>
                        #{student.address}
                    </h:column>

                    <h:column>
                        <f:facet name="header">Email</f:facet>
                        #{student.email}
                    </h:column>
                    <h:column>
                        <f:facet name="header">Ghi chú</f:facet>
                        #{student.note}
                    </h:column>
                    <h:column>
                        <f:facet name="header" colspan="2">Thao tác</f:facet>
                        <h:commandButton value="Sửa" action="#{studentsMB.edit(student)}"/>
                        <h:commandButton value="Xóa" action="#{studentsMB.delete(student)}"/>
                    </h:column>
                    <f:facet name="footer">
                        <h:outputText value="Total of student: #{studentsMB.getListStudent().size()}"/>
                    </f:facet>

                </h:dataTable>

                <br/>

                <h:commandButton value="Add Student" action="add-student"/>


            </h:form>
        </div>

    </h:form>
</div>


<!--	End body	-->
<ui:insert name="footer">
    <ui:include src="/templates/footer.xhtml"/>
</ui:insert>
</html>
