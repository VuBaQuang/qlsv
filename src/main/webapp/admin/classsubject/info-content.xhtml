<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>

</h:head>
<div align="center">
    <br/>

    <h:form id="form">
        <p:growl id="msgs" showDetail="true"/>
        <p:dataTable id="cars2" var="student" value="#{claSubMB.listStudent}" editable="true" editMode="cell" widgetVar="cellCars" >
            <p:ajax event="cellEdit" listener="#{claSubMB.updateScore}" update=":form:msgs"/>
            <p:column headerText="Mã sinh viên" style="width:100px; align-content: center">
                <p:cellEditor disabled="true">
                    <f:facet name="output"><h:outputText value="#{student.code}" /></f:facet>
                    <f:facet name="input"><p:inputText id="code" value="#{student.code}"/></f:facet>
                </p:cellEditor>
            </p:column>
            <p:column headerText="Họ tên">
                <p:cellEditor disabled="true">
                    <f:facet name="output"><h:outputText value="#{student.name}" /></f:facet>
                    <f:facet name="input"><p:inputText id="name" value="#{student.name}"/></f:facet>
                </p:cellEditor>
            </p:column>
            <p:column headerText="Lớp" style="width:80px">
                <p:cellEditor disabled="true">
                    <f:facet name="output"><h:outputText value="#{student.classPayroll.name}" /></f:facet>
                    <f:facet name="input"><p:inputText id="classe" value="#{student.classPayroll.name}" /></f:facet>
                </p:cellEditor>
            </p:column>
            <p:column headerText="Tuổi" style="width:60px">
                <p:cellEditor disabled="true">
                    <f:facet name="output"><h:outputText value="#{student.age}" /></f:facet>
                    <f:facet name="input"><p:inputText id="age" value="#{student.age}" style="width: 50px"/></f:facet>
                </p:cellEditor>
            </p:column>
            <p:column headerText="Địa chỉ">
                <p:cellEditor disabled="true">
                    <f:facet name="output"><h:outputText value="#{student.address}" /></f:facet>
                    <f:facet name="input"><p:inputText id="address" value="#{student.address}"/></f:facet>
                </p:cellEditor>
            </p:column>
            <p:column headerText="Email">
                <p:cellEditor disabled="true">
                    <f:facet name="output"><h:outputText value="#{student.email}" /></f:facet>
                    <f:facet name="input"><p:inputText id="email" value="#{student.email}"/></f:facet>
                </p:cellEditor>
            </p:column>
            <p:column headerText="Điểm" style="width:60px">
                <p:cellEditor>
                    <f:facet name="output"><h:outputText value="#{claSubMB.getScore(student)}" /></f:facet>
                    <f:facet name="input"><p:inputText id="score" value="#{claSubMB.score}"/></f:facet>
                </p:cellEditor>
            </p:column>

            <p:column headerText="Ghi chú">
                <p:cellEditor disabled="true">
                    <f:facet name="output"><h:outputText value="#{student.note}" /></f:facet>
                    <f:facet name="input"><p:inputText id="note" value="#{student.note}"/></f:facet>
                </p:cellEditor>
            </p:column>
            <p:column style="width:60px" headerText="Thao tác">
                <h:commandButton value="Xóa" action="#{claSubMB.deleteStuClaSub(student)}" update="cars2"/>
            </p:column>
        </p:dataTable>
        <br/>
        <h:commandButton value="Cancel" action="view?faces-redirect=true"/>
    </h:form>
</div>
</html>
